![Logo](Logo GB.png)
# Работа с Git
---
## 1. Проверка наличия установленного Git

В терминале нужно выполнить команду 

`git version`.

Если Git установлен, будет выведено сообщение вида:
```
git version 2.39.0.windows.1
```
Иначе будет сообщение об ошибке.
*****

## 2. Установка Git
Загружаем последнюю версию Git с сайта: 

https://git-scm.com/book/en/v2/Getting-Started-Installing-Git

Устанавливаем с настройками по умолчанию.
***
## 3. Настройка Git

При первом использовании Git необходимо представиться. Для этого нужно ввести в терминале 2 команды:
`git config --global user.email "ВАШ email"`

`git config --global user.name "ВАШЕ Имя"`

Проверить введённые данные можно командой:

`git config --global --list`


<!---Комментарий--->


Изменить Имя и Email можно введя заново 2 вышеуказанные команды.
*****

## 4. Создание репозитория
В меню ***Файл → Открыть папку*** и выбрать предварительно созданную папку или папку с готовым проектом.

В терминале набрать команду:

 `git init`

****
 ## 5. Создание и запись файла в репозиторий.
 В проводнике VSC создать текстовый файл с расширением .md (MarkDown, поддерживает предпросмотр).

 Для добавления файла в индекс отслеживания выполнить в терминале команду:

 `git add File.md`

 Для записи изменений выполнить в терминале команду:

 `git commit -m "Описание изменений"`

 Для просмотра статуса файла набрать команду:

 `git status`

В выведенном сообщении будет указано, если все изменения зафиксированы:
 
>nothing to commit, working tree clean

или, если есть незафиксированные изменения:

>Changes not staged for commit:

>(use "git add <file>..." to update what will be committed)

>(use "git restore <file>..." to discard changes in working directory)

><span style="color:red"> modified:   Git_Instruction.md</span>

Команда <`git diff`> показывает разницу между текущим файлом и последним коммитом.

Команда <`git commit -a`> это <`git add`> + <`git commit`> и используется для добавления всех изменений в репозиторий.

Командой `git commit --amend` позволяет внести изменения в последний коммит. Она может оказаться полезной, если вы забыли проиндексировать файл или не указали важную информацию в комментарии к коммиту.

Командой `git reset` можно отменить действие.
****
## 6. Просмотр истории коммитов.
С помощью команды <`git log`> можно посмотреть полную историю изменений.

`git log --oneline` - сокращённая история, с сокращёнными номерами коммитов

`git log --oneline -1` - сокращённая история последнего коммита
****
## 7. Перемещение между сохранениями.
Для перемещения между коммитами надо сначала ввести одну из команд <`git log`>, скопировать номер нужного коммита, и ввести команду

`git checkout commit_number`

Можно отредактировать текст в этом коммите, **<span style="color:red"> сохранить его</span>**, и вернуться обратно в корневую ветку *master*.

Возврат на один шаг назад осуществляется с помощью команды:

`git switch -`

Возврат в корень дерева осуществляется с помощью команды:

`git checkout master`

## 8. Игнорирование файлов

Для того чтобы исключить из отслеживания в репозитории определенные файлы или папки неоходимо создать там файл .***gitignore*** и записать в него их названия или шаблоны (*), соответствующие таким файлам или папкам.

Следующим шагом закоммитить файл **.gitignore**.

## 9. Создание веток в Git

Ветка в Git - это простой перемещаемый указатель на один из коммитов, обычно последний в цепочке коммитов.

По умолчанию имя основной ветки в Git - это *master*.
Создать  ветку можно командой:
```
git branch <имя новой ветки>
```
В результате создаётся новый указатель на текущий коммит.

Также одной командой можно создать и перейти на новую ветку:
```
git checkout -b <название новой ветки>
```

Список веток в репозитории можно посмотреть с помощью команды `git branch`.
Текущая ветка будет отмечена звёздочкой: **\*master**

## 10. Слияние веток и разрешение конфликтов

Для слияния выбранной ветки с текущей нужно выполнить команду:
```
git merge <название выбранной ветки>
```
**<span style="color:green"> Перед этим нужно перейти в нужную ветку (обычно это *master*).</span>**

Если сливаются ветки с отличающимися данными в одних и тех же строках, то происходит конфликт данных, в редакторе кода отображаются обе версии кода, подсвеченные разным цветом, и меню выбора действий:

![Conflict screenshot](Conflict1.png)

После принятия изменений можно отредактировать эти изменения.

После разрешения конфликта необходимо выполнить коммит слияния.

## 11. Удаление веток

Удаление веток выполняется командой:
```
#git branch -d <название выбранной ветки>
```

Ключ `-d` работае только при условии, что при удалении не возникает ошибок (нельзя удалять ветку находясь в ней, несохранённую ветку).

Ключ `-D` не удаляет только активную ветку, все остальные ошибки он пропускает.

## 12. Работа с удалёнными репозиториями

## 12.1. Создать аккаунт на Github

Задать логин и пароль.

Создать репозиторий, нажав на "+" сверху справа, задать имя, остальное по необходимости.

## 12.2. Создать локальный репозиторий
Создать папку на ПК, открыть её в VSC, инициировать её, создать в ней файл, закоммитить его.

## 12.3. Связать удалённый репозиторий с локальным
После создания репозитория на Github появляется окно с подсказками по вводу команд в VSC для связи локального репозитория с удалённым:

Добавить удалённый репозиторий к проекту: 
```
git remote add <имя для репозитория> <url -адрес репозитория в сети>
```
Переименовать главную ветку из *master* в *main*:
```
git branch -M main
```
Протолкнуть локальный проект в удалённый репозиторий:
```
git push -u origin main
```
\-u origin main пишется при первом обращении к удалённому репозиторию.

\- origin - псевдоним удалённого репозитория.

Командой `git remote` можно проверить какой удалённый репозиторий связан с локальным.

Команда `git remote -v` выводит список удалённых репозиториев с адресами.

На Github обновляем страницу репозитория, готово!

На Github можно изменить проект, закоммитить, и отправить в локальный репозиторий. 

Для этого в VSC набираем команду:
```
git pull
```
Эта команда забирает проект из удалённого репозитория и мержит его с локальным проектом.

Команда:
 ```
 git fetch
 ```
  стягивает удалённый репозиторий в локальный, но не фиксирует его.

После неё нужно делать `git merge`.

После первой фиксации можно делать комбинированную команду `git commit -am "Discription"`.

После первой связи между удалённым и локальным репозиториями команда `git push` вводится без параметров.

## 12.4. Клонирование чужого проекта

1. В чужом проекте нажать кнопку **Code**, скопировать HTTPS адрес репозитория.

2. На ПК создаём папку, открываем её в VSC.

3. Вводим команду:
```
git clone <адрес удалёного репозитория>
```
Или, если хотим клонировать и переименовать папку проекта:
```
git clone <адрес удалёного репозитория> new_name
```
4. Для перехода в эту папку есть два варианта:
  
- cd folder_name
- ПКМ на папке с проектом → открыть во встроенном терминале (открывается новый терминал).
  
Теперь можно просматривать и редактировать клонированный проект.

## 12.5. Pull Request

1. Создаём копию чужого репозитория в своём аккаунте Github при помощи кнопки **Fork**.
Если в проекте несколько веток и нам нужны они все, то снимаем галку с пункта *Copy the master branch only*.

2. Открываем "форкнутый" репозиторий в своём аккаунте, копируем адрес.
3. На ПК создаём папку, открываем её в VSC.
4.  Вводим команду:
```
git clone <адрес удалёного репозитория>
```
5. Переходим в папку проекта:
```
cd <folder_name>
```
6. Вводим контрольные команды `git status`, `git branch`, убеждаемся, что мы там, где надо.

Если нужно посмотреть все ветки проекта, вводим команду `git branch --all`.

7. Создаём новую ветку: `git branch <new>`, переходим на неё.

8. Добавляем информацию или добавляем новый файл.
9. Проверяем, чтот добавили: `git status`
10. Добавляем в индекс:
```
git add <name>
```
11. Создаём первый коммит:
```
git commit -m "Discription"
```
12. Записываем в удалённый репозиторий:
```
git push
```
Появляется ошибка, т.к. в удалённом репозитории нет ветки *new*. Чтобы создать ветку и записать в неё информацию, нужно ввести команду:
```
git push --set -upstream origin new_name
  сокращённый вариант:
git push -u origin new_name
```
13. Переходим на Github, обновляем страницу репозитория,в нём появляется новая ветка и кнопка <span style="color:green"> **Compare & Pull request**</span>, нажимаем.
14. Добавляем описание и нажимаем <span style="color:green"> **Pull request**</span> . 

Если кнопка не появилась, тогда:
- переходим на вкладку **Pull request**
- нажимаем кнопку <span style="color:green"> New pull request</span>
- в поле **Compare** выбираем ветку *new*
- нажимаем кнопку <span style="color:green"> Create pull request</span>
- Добавляем описание и нажимаем <span style="color:green"> Pull request</span> 